<meta charset="utf-8">
<script>

function getStatus(){
	return ' Дилер: ' + dealer.join(' ') + " Игрок: " + plaer.join(' ');
}

function getRandomInt(min,max){
	return Math.floor(Math.random()*(max-min+1)+min)
}
 function getCard(){
 	var cards = ['6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
 	return cards [getRandomInt(0, cards.length - 1)]
 }



function getSum(hand){
	var sum = 0;
 	for(i=0; i<hand.length; i++){
 	 	var card = hand[i];
 	 	if(card!='A'){
 	 		if(card=='J'|| card == 'Q' || card == 'K'){
 	 			sum=sum+10;
 	 		}else{
 	 			sum = sum +parseInt(card);
 	 		}
 	 	}
 	}

 	for (var i=0; i<hand.length; i++){
 		var card = hand[i];
 		if ( card == 'A'){
 			if(sum>10){
 				sum = sum +1;
 			}else{
 				sum = sum +11;
 			}
 		}
 	}
 	return sum;
}


var dealer = [getCard()];
var plaer = [getCard(), getCard()];

if(getSum(plaer) == 21){
	alert('Black Jack на раздаче!')}
		else{


var answer = '';
 do {
answer = prompt(getStatus() + ' Хотите еще карту? 1 - да, иначе - нет');

if(answer == '1'){
	plaer.push(getCard());
	var sum = getSum(plaer);
	if(sum>21){
		alert(' Перебор '+ getStatus());
		break;
	}else if(sum==21){
		alert("Black Jack!" + getStatus());
		break;
	}
 }else{
 	while(getSum(dealer)<17){
 		dealer.push(getCard());
 	}
 	var sumD = getSum(dealer);
 	var sumP = getSum(plaer);
 	if (sumD == 21){
 		alert (" У Дилера Black Jack! "+ getStatus());
 	}else if(sumD > 21){
 		alert('У Дилера перебор! '+ getStatus());
 	}else if(sumP == sumD){
 		alert('Ничья! '+ getStatus());
 	}else if (sumP>sumD){
 		alert("Выигрыш! "+ getStatus());
 	}else{
 		alert('Проигрыш(( '+ getStatus());
 	}
 }

}while(answer == '1');
}


</script>